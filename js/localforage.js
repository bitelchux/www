
(function(){var e,t,n,r;(function(){var i={},s={};e=function(e,t,n){i[e]={deps:t,callback:n}};r=n=t=function(e){function p(t){if(t.charAt(0)!=="."){return t}var n=t.split("/");var r=e.split("/").slice(0,-1);for(var i=0,s=n.length;i<s;i++){var o=n[i];if(o===".."){r.pop()}else if(o==="."){continue}else{r.push(o)}}return r.join("/")}r._eak_seen=i;if(s[e]){return s[e]}s[e]={};if(!i[e]){throw new Error("Could not find module "+e)}var n=i[e],o=n.deps,u=n.callback,a=[],f;for(var l=0,c=o.length;l<c;l++){if(o[l]==="exports"){a.push(f={})}else{a.push(t(p(o[l])))}}var h=u.apply(this,a);return s[e]=f||h}})();e("promise/all",["./utils","exports"],function(e,t){"use strict";function i(e){var t=this;if(!n(e)){throw new TypeError("You must pass an array to all.")}return new t(function(t,n){function u(e){return function(t){a(e,t)}}function a(e,n){i[e]=n;if(--s===0){t(i)}}var i=[],s=e.length,o;if(s===0){t([])}for(var f=0;f<e.length;f++){o=e[f];if(o&&r(o.then)){o.then(u(f),n)}else{a(f,o)}}})}var n=e.isArray;var r=e.isFunction;t.all=i});e("promise/asap",["exports"],function(e){"use strict";function i(){return function(){process.nextTick(a)}}function s(){var e=0;var t=new n(a);var r=document.createTextNode("");t.observe(r,{characterData:true});return function(){r.data=e=++e%2}}function o(){return function(){r.setTimeout(a,1)}}function a(){for(var e=0;e<u.length;e++){var t=u[e];var n=t[0],r=t[1];n(r)}u=[]}function l(e,t){var n=u.push([e,t]);if(n===1){f()}}var t=typeof window!=="undefined"?window:{};var n=t.MutationObserver||t.WebKitMutationObserver;var r=typeof global!=="undefined"?global:this===undefined?window:this;var u=[];var f;if(typeof process!=="undefined"&&{}.toString.call(process)==="[object process]"){f=i()}else if(n){f=s()}else{f=o()}e.asap=l});e("promise/config",["exports"],function(e){"use strict";function n(e,n){if(arguments.length===2){t[e]=n}else{return t[e]}}var t={instrument:false};e.config=t;e.configure=n});e("promise/polyfill",["./promise","./utils","exports"],function(e,t,n){"use strict";function s(){var e;if(typeof global!=="undefined"){e=global}else if(typeof window!=="undefined"&&window.document){e=window}else{e=self}var t="Promise"in e&&"resolve"in e.Promise&&"reject"in e.Promise&&"all"in e.Promise&&"race"in e.Promise&&function(){var t;new e.Promise(function(e){t=e});return i(t)}();if(!t){e.Promise=r}}var r=e.Promise;var i=t.isFunction;n.polyfill=s});e("promise/promise",["./config","./utils","./all","./race","./resolve","./reject","./asap","exports"],function(e,t,n,r,i,s,o,u){"use strict";function b(e){if(!c(e)){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}if(!(this instanceof b)){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}this._subscribers=[];w(e,this)}function w(e,t){function n(e){A(t,e)}function r(e){M(t,e)}try{e(n,r)}catch(i){r(i)}}function E(e,t,n,r){var i=c(n),s,o,u,a;if(i){try{s=n(r);u=true}catch(f){a=true;o=f}}else{s=r;u=true}if(L(t,s)){return}else if(i&&u){A(t,s)}else if(a){M(t,o)}else if(e===T){A(t,s)}else if(e===N){M(t,s)}}function C(e,t,n,r){var i=e._subscribers;var s=i.length;i[s]=t;i[s+T]=n;i[s+N]=r}function k(e,t){var n,r,i=e._subscribers,s=e._detail;for(var o=0;o<i.length;o+=3){n=i[o];r=i[o+t];E(t,n,r,s)}e._subscribers=null}function L(e,t){var n=null,r;try{if(e===t){throw new TypeError("A promises callback cannot return that same promise.")}if(l(t)){n=t.then;if(c(n)){n.call(t,function(n){if(r){return true}r=true;if(t!==n){A(e,n)}else{O(e,n)}},function(t){if(r){return true}r=true;M(e,t)});return true}}}catch(i){if(r){return true}M(e,i);return true}return false}function A(e,t){if(e===t){O(e,t)}else if(!L(e,t)){O(e,t)}}function O(e,t){if(e._state!==S){return}e._state=x;e._detail=t;a.async(_,e)}function M(e,t){if(e._state!==S){return}e._state=x;e._detail=t;a.async(D,e)}function _(e){k(e,e._state=T)}function D(e){k(e,e._state=N)}var a=e.config;var f=e.configure;var l=t.objectOrFunction;var c=t.isFunction;var h=t.now;var p=n.all;var d=r.race;var v=i.resolve;var m=s.reject;var g=o.asap;var y=0;a.async=g;var S=void 0;var x=0;var T=1;var N=2;b.prototype={constructor:b,_state:undefined,_detail:undefined,_subscribers:undefined,then:function(e,t){var n=this;var r=new this.constructor(function(){});if(this._state){var i=arguments;a.async(function(){E(n._state,r,i[n._state-1],n._detail)})}else{C(this,r,e,t)}return r},"catch":function(e){return this.then(null,e)}};b.all=p;b.race=d;b.resolve=v;b.reject=m;u.Promise=b});e("promise/race",["./utils","exports"],function(e,t){"use strict";function r(e){var t=this;if(!n(e)){throw new TypeError("You must pass an array to race.")}return new t(function(t,n){var r=[],i;for(var s=0;s<e.length;s++){i=e[s];if(i&&typeof i.then==="function"){i.then(t,n)}else{t(i)}}})}var n=e.isArray;t.race=r});e("promise/reject",["exports"],function(e){"use strict";function t(e){var t=this;return new t(function(t,n){n(e)})}e.reject=t});e("promise/resolve",["exports"],function(e){"use strict";function t(e){if(e&&typeof e==="object"&&e.constructor===this){return e}var t=this;return new t(function(t){t(e)})}e.resolve=t});e("promise/utils",["exports"],function(e){"use strict";function t(e){return n(e)||typeof e==="object"&&e!==null}function n(e){return typeof e==="function"}function r(e){return Object.prototype.toString.call(e)==="[object Array]"}var i=Date.now||function(){return(new Date).getTime()};e.objectOrFunction=t;e.isFunction=n;e.isArray=r;e.now=i});t("promise/polyfill").polyfill()})();(function(){"use strict";function i(i){if(i){for(var s in i){n[s]=i[s]}}return new e(function(e,i){var s=r.open(n.name,n.version);s.onerror=function(){i(s.error)};s.onupgradeneeded=function(){s.result.createObjectStore(n.storeName)};s.onsuccess=function(){t=s.result;e()}})}function s(r,i){var s=this;return new e(function(e,o){s.ready().then(function(){var s=t.transaction(n.storeName,"readonly").objectStore(n.storeName);var u=s.get(r);u.onsuccess=function(){var t=u.result;if(t===undefined){t=null}h(i,t);e(t)};u.onerror=function(){if(i){i(null,u.error)}o(u.error)}},o)})}function o(r,i,s){var o=this;return new e(function(e,u){o.ready().then(function(){var o=t.transaction(n.storeName,"readwrite").objectStore(n.storeName);if(i===null){i=undefined}var a=o.put(i,r);a.onsuccess=function(){if(i===undefined){i=null}h(s,i);e(i)};a.onerror=function(){if(s){s(null,a.error)}u(a.error)}},u)})}function u(r,i){var s=this;return new e(function(e,o){s.ready().then(function(){var s=t.transaction(n.storeName,"readwrite").objectStore(n.storeName);var u=s["delete"](r);u.onsuccess=function(){h(i);e()};u.onerror=function(){if(i){i(u.error)}o(u.error)};u.onabort=function(e){var t=e.target.error;if(t==="QuotaExceededError"){if(i){i(t)}o(t)}}},o)})}function a(r){var i=this;return new e(function(e,s){i.ready().then(function(){var i=t.transaction(n.storeName,"readwrite").objectStore(n.storeName);var o=i.clear();o.onsuccess=function(){h(r);e()};o.onerror=function(){if(r){r(null,o.error)}s(o.error)}},s)})}function f(r){var i=this;return new e(function(e,s){i.ready().then(function(){var i=t.transaction(n.storeName,"readonly").objectStore(n.storeName);var o=i.count();o.onsuccess=function(){if(r){r(o.result)}e(o.result)};o.onerror=function(){if(r){r(null,o.error)}s(o.error)}},s)})}function l(r,i){var s=this;return new e(function(e,o){if(r<0){if(i){i(null)}e(null);return}s.ready().then(function(){var s=t.transaction(n.storeName,"readonly").objectStore(n.storeName);var u=false;var a=s.openCursor();a.onsuccess=function(){var t=a.result;if(!t){if(i){i(null)}e(null);return}if(r===0){if(i){i(t.key)}e(t.key)}else{if(!u){u=true;t.advance(r)}else{if(i){i(t.key)}e(t.key)}}};a.onerror=function(){if(i){i(null,a.error)}o(a.error)}},o)})}function c(r){var i=this;return new e(function(e,s){i.ready().then(function(){var i=t.transaction(n.storeName,"readonly").objectStore(n.storeName);var o=i.openCursor();var u=[];o.onsuccess=function(){var t=o.result;if(!t){if(r){r(u)}e(u);return}u.push(t.key);t["continue"]()};o.onerror=function(){if(r){r(null,o.error)}s(o.error)}},s)})}function h(e,t){if(e){return setTimeout(function(){return e(t)},0)}}var e=typeof module!=="undefined"&&module.exports?require("promise"):this.Promise;var t=null;var n={};var r=r||this.indexedDB||this.webkitIndexedDB||this.mozIndexedDB||this.OIndexedDB||this.msIndexedDB;if(!r){return}var p={_driver:"asyncStorage",_initStorage:i,getItem:s,setItem:o,removeItem:u,clear:a,length:f,key:l,keys:c};if(typeof define==="function"&&define.amd){define("asyncStorage",function(){return p})}else if(typeof module!=="undefined"&&module.exports){module.exports=p}else{this.asyncStorage=p}}).call(this);(function(){"use strict";function s(r){if(r){for(var i in r){t[i]=r[i]}}e=t.name+"/";return n.resolve()}function w(e){var t=this;return new n(function(n,i){t.ready().then(function(){r.clear();if(e){e()}n()},i)})}function E(t,i){var s=this;return new n(function(n,o){s.ready().then(function(){try{var s=r.getItem(e+t);if(s){s=C(s)}if(i){i(s)}n(s)}catch(u){if(i){i(null,u)}o(u)}},o)})}function S(t,i){var s=this;return new n(function(n,o){s.ready().then(function(){var s;try{s=r.key(t)}catch(o){s=null}if(s){s=s.substring(e.length)}if(i){i(s)}n(s)},o)})}function x(t){var i=this;return new n(function(n,s){i.ready().then(function(){var i=r.length;var s=[];for(var o=0;o<i;o++){s.push(r.key(o).substring(e.length))}if(t){t(s)}n(s)},s)})}function T(e){var t=this;return new n(function(n,i){t.ready().then(function(){var t=r.length;if(e){e(t)}n(t)},i)})}function N(t,i){var s=this;return new n(function(n,o){s.ready().then(function(){r.removeItem(e+t);if(i){i()}n()},o)})}function C(e){if(e.substring(0,u)!==o){return JSON.parse(e)}var t=e.substring(b);var n=e.substring(u,b);var r=new ArrayBuffer(t.length*2);var i=new Uint16Array(r);for(var s=t.length-1;s>=0;s--){i[s]=t.charCodeAt(s)}switch(n){case a:return r;case f:return new Blob([r]);case l:return new Int8Array(r);case c:return new Uint8Array(r);case h:return new Uint8ClampedArray(r);case p:return new Int16Array(r);case v:return new Uint16Array(r);case d:return new Int32Array(r);case m:return new Uint32Array(r);case g:return new Float32Array(r);case y:return new Float64Array(r);default:throw new Error("Unkown type: "+n)}}function k(e){var t="";var n=new Uint16Array(e);try{t=String.fromCharCode.apply(null,n)}catch(r){for(var i=0;i<n.length;i++){t+=String.fromCharCode(n[i])}}return t}function L(e,t){var n="";if(e){n=e.toString()}if(e&&(e.toString()==="[object ArrayBuffer]"||e.buffer&&e.buffer.toString()==="[object ArrayBuffer]")){var r;var i=o;if(e instanceof ArrayBuffer){r=e;i+=a}else{r=e.buffer;if(n==="[object Int8Array]"){i+=l}else if(n==="[object Uint8Array]"){i+=c}else if(n==="[object Uint8ClampedArray]"){i+=h}else if(n==="[object Int16Array]"){i+=p}else if(n==="[object Uint16Array]"){i+=v}else if(n==="[object Int32Array]"){i+=d}else if(n==="[object Uint32Array]"){i+=m}else if(n==="[object Float32Array]"){i+=g}else if(n==="[object Float64Array]"){i+=y}else{t(new Error("Failed to get type for BinaryArray"))}}t(i+k(r))}else if(n==="[object Blob]"){var s=new FileReader;s.onload=function(){var e=k(this.result);t(o+f+e)};s.readAsArrayBuffer(e)}else{try{t(JSON.stringify(e))}catch(u){if(this.console&&this.console.error){this.console.error("Couldn't convert value into a JSON string: ",e)}t(null,u)}}}function A(t,i,s){var o=this;return new n(function(n,u){o.ready().then(function(){if(i===undefined){i=null}var o=i;L(i,function(i,a){if(a){if(s){s(null,a)}u(a)}else{try{r.setItem(e+t,i)}catch(f){if(f.name==="QuotaExceededError"||f.name==="NS_ERROR_DOM_QUOTA_REACHED"){if(s){s(null,f)}u(f)}}if(s){s(o)}n(o)}})},u)})}var e="";var t={};var n=typeof module!=="undefined"&&module.exports?require("promise"):this.Promise;var r=null;try{if(!this.localStorage||!("setItem"in this.localStorage)){return}r=this.localStorage}catch(i){return}var o="__lfsc__:";var u=o.length;var a="arbf";var f="blob";var l="si08";var c="ui08";var h="uic8";var p="si16";var d="si32";var v="ur16";var m="ui32";var g="fl32";var y="fl64";var b=u+a.length;var O={_driver:"localStorageWrapper",_initStorage:s,getItem:E,setItem:A,removeItem:N,clear:w,length:T,key:S,keys:x};if(typeof define==="function"&&define.amd){define("localStorageWrapper",function(){return O})}else if(typeof module!=="undefined"&&module.exports){module.exports=O}else{this.localStorageWrapper=O}}).call(this);(function(){"use strict";function b(e){var s=this;if(e){for(var o in e){i[o]=typeof e[o]!=="string"?e[o].toString():e[o]}}return new t(function(e,t){try{r=n(i.name,i.version,i.description,i.size)}catch(o){return s.setDriver("localStorageWrapper").then(e,t)}r.transaction(function(n){n.executeSql("CREATE TABLE IF NOT EXISTS "+i.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){e()},function(e,n){t(n)})})})}function w(e,n){var s=this;return new t(function(t,o){s.ready().then(function(){r.transaction(function(r){r.executeSql("SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[e],function(e,r){var i=r.rows.length?r.rows.item(0).value:null;if(i){i=L(i)}if(n){n(i)}t(i)},function(e,t){if(n){n(null,t)}o(t)})})},o)})}function E(e,n,s){var o=this;return new t(function(t,u){o.ready().then(function(){if(n===undefined){n=null}var o=n;A(n,function(n,a){if(a){u(a)}else{r.transaction(function(r){r.executeSql("INSERT OR REPLACE INTO "+i.storeName+" (key, value) VALUES (?, ?)",[e,n],function(){if(s){s(o)}t(o)},function(e,t){if(s){s(null,t)}u(t)})},function(e){if(e.code===e.QUOTA_ERR){if(s){s(null,e)}u(e)}})}})},u)})}function S(e,n){var s=this;return new t(function(t,o){s.ready().then(function(){r.transaction(function(r){r.executeSql("DELETE FROM "+i.storeName+" WHERE key = ?",[e],function(){if(n){n()}t()},function(e,t){if(n){n(t)}o(t)})})},o)})}function x(e){var n=this;return new t(function(t,s){n.ready().then(function(){r.transaction(function(n){n.executeSql("DELETE FROM "+i.storeName,[],function(){if(e){e()}t()},function(t,n){if(e){e(n)}s(n)})})},s)})}function T(e){var n=this;return new t(function(t,s){n.ready().then(function(){r.transaction(function(n){n.executeSql("SELECT COUNT(key) as c FROM "+i.storeName,[],function(n,r){var i=r.rows.item(0).c;if(e){e(i)}t(i)},function(t,n){if(e){e(null,n)}s(n)})})},s)})}function N(e,n){var s=this;return new t(function(t,o){s.ready().then(function(){r.transaction(function(r){r.executeSql("SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[e+1],function(e,r){var i=r.rows.length?r.rows.item(0).key:null;if(n){n(i)}t(i)},function(e,t){if(n){n(null,t)}o(t)})})},o)})}function C(e){var n=this;return new t(function(t,s){n.ready().then(function(){r.transaction(function(n){n.executeSql("SELECT key FROM "+i.storeName,[],function(n,r){var i=r.rows.length;var s=[];for(var o=0;o<i;o++){s.push(r.rows.item(o).key)}if(e){e(s)}t(s)},function(t,n){if(e){e(null,n)}s(n)})})},s)})}function k(t){var n=new Uint8Array(t);var r;var i="";for(r=0;r<n.length;r+=3){i+=e[n[r]>>2];i+=e[(n[r]&3)<<4|n[r+1]>>4];i+=e[(n[r+1]&15)<<2|n[r+2]>>6];i+=e[n[r+2]&63]}if(n.length%3===2){i=i.substring(0,i.length-1)+"="}else if(n.length%3===1){i=i.substring(0,i.length-2)+"=="}return i}function L(t){if(t.substring(0,o)!==s){return JSON.parse(t)}var n=t.substring(y);var r=t.substring(o,y);var i=n.length*.75;var b=n.length;var w;var E=0;var S,x,T,N;if(n[n.length-1]==="="){i--;if(n[n.length-2]==="="){i--}}var C=new ArrayBuffer(i);var k=new Uint8Array(C);for(w=0;w<b;w+=4){S=e.indexOf(n[w]);x=e.indexOf(n[w+1]);T=e.indexOf(n[w+2]);N=e.indexOf(n[w+3]);k[E++]=S<<2|x>>4;k[E++]=(x&15)<<4|T>>2;k[E++]=(T&3)<<6|N&63}switch(r){case u:return C;case a:return new Blob([C]);case f:return new Int8Array(C);case l:return new Uint8Array(C);case c:return new Uint8ClampedArray(C);case h:return new Int16Array(C);case d:return new Uint16Array(C);case p:return new Int32Array(C);case v:return new Uint32Array(C);case m:return new Float32Array(C);case g:return new Float64Array(C);default:throw new Error("Unkown type: "+r)}}function A(e,t){var n="";if(e){n=e.toString()}if(e&&(e.toString()==="[object ArrayBuffer]"||e.buffer&&e.buffer.toString()==="[object ArrayBuffer]")){var r;var i=s;if(e instanceof ArrayBuffer){r=e;i+=u}else{r=e.buffer;if(n==="[object Int8Array]"){i+=f}else if(n==="[object Uint8Array]"){i+=l}else if(n==="[object Uint8ClampedArray]"){i+=c}else if(n==="[object Int16Array]"){i+=h}else if(n==="[object Uint16Array]"){i+=d}else if(n==="[object Int32Array]"){i+=p}else if(n==="[object Uint32Array]"){i+=v}else if(n==="[object Float32Array]"){i+=m}else if(n==="[object Float64Array]"){i+=g}else{t(new Error("Failed to get type for BinaryArray"))}}t(i+k(r))}else if(n==="[object Blob]"){var o=new FileReader;o.onload=function(){var e=k(this.result);t(s+a+e)};o.readAsArrayBuffer(e)}else{try{t(JSON.stringify(e))}catch(y){if(this.console&&this.console.error){this.console.error("Couldn't convert value into a JSON string: ",e)}t(null,y)}}}var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var t=typeof module!=="undefined"&&module.exports?require("promise"):this.Promise;var n=this.openDatabase;var r=null;var i={};var s="__lfsc__:";var o=s.length;var u="arbf";var a="blob";var f="si08";var l="ui08";var c="uic8";var h="si16";var p="si32";var d="ur16";var v="ui32";var m="fl32";var g="fl64";var y=o+u.length;if(!n){return}var O={_driver:"webSQLStorage",_initStorage:b,getItem:w,setItem:E,removeItem:S,clear:x,length:T,key:N,keys:C};if(typeof define==="function"&&define.amd){define("webSQLStorage",function(){return O})}else if(typeof module!=="undefined"&&module.exports){module.exports=O}else{this.webSQLStorage=O}}).call(this);(function(){"use strict";function f(e){a[e]=function(){var t=arguments;return a.ready().then(function(){return a[e].apply(a,t)})}}var e=typeof module!=="undefined"&&module.exports?require("promise"):this.Promise;var t={INDEXEDDB:"asyncStorage",LOCALSTORAGE:"localStorageWrapper",WEBSQL:"webSQLStorage"};var n=[t.INDEXEDDB,t.WEBSQL,t.LOCALSTORAGE];var r=["clear","getItem","key","keys","length","removeItem","setItem"];var i={DEFINE:1,EXPORT:2,WINDOW:3};var s=i.WINDOW;if(typeof define==="function"&&define.amd){s=i.DEFINE}else if(typeof module!=="undefined"&&module.exports){s=i.EXPORT}var o=function(e){var n=n||e.indexedDB||e.webkitIndexedDB||e.mozIndexedDB||e.OIndexedDB||e.msIndexedDB;var r={};r[t.WEBSQL]=!!e.openDatabase;r[t.INDEXEDDB]=!!(n&&typeof n.open==="function"&&n.open("_localforage_spec_test",1).onupgradeneeded===null);r[t.LOCALSTORAGE]=!!function(){try{return localStorage&&typeof localStorage.setItem==="function"}catch(e){return false}}();return r}(this);var u=this;var a={INDEXEDDB:t.INDEXEDDB,LOCALSTORAGE:t.LOCALSTORAGE,WEBSQL:t.WEBSQL,_config:{description:"",name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},_driverSet:null,_ready:false,config:function(e){if(typeof e==="object"){if(this._ready){return new Error("Can't call config() after localforage "+"has been used.")}for(var t in e){this._config[t]=e[t]}return true}else if(typeof e==="string"){return this._config[e]}else{return this._config}},driver:function(){return this._driver||null},ready:function(t){var n=new e(function(e,t){a._driverSet.then(function(){if(a._ready===null){a._ready=a._initStorage(a._config)}a._ready.then(e,t)},t)});n.then(t,t);return n},setDriver:function(t,n,r){var o=this;if(typeof t==="string"){t=[t]}this._driverSet=new e(function(a,f){var l=o._getFirstSupportedDriver(t);if(!l){var c=new Error("No available storage method found.");o._driverSet=e.reject(c);if(r){r(c)}f(c);return}o._ready=null;if(s===i.DEFINE){require([l],function(e){o._extend(e);if(n){n()}a()});return}else if(s===i.EXPORT){var h;switch(l){case o.INDEXEDDB:h=require("./drivers/indexeddb");break;case o.LOCALSTORAGE:h=require("./drivers/localstorage");break;case o.WEBSQL:h=require("./drivers/websql")}o._extend(h)}else{o._extend(u[l])}if(n){n()}a()});return this._driverSet},supports:function(e){return!!o[e]},_extend:function(e){for(var t in e){if(e.hasOwnProperty(t)){this[t]=e[t]}}},_getFirstSupportedDriver:function(e){var t=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};if(e&&t(e)){for(var n=0;n<e.length;n++){var r=e[n];if(this.supports(r)){return r}}}return null}};for(var l=0;l<r.length;l++){f(r[l])}a.setDriver(n);if(s===i.DEFINE){define(function(){return a})}else if(s===i.EXPORT){module.exports=a}else{this.localforage=a}}).call(this);

/*
!function(){var a,b,c,d;!function(){var e={},f={};a=function(a,b,c){e[a]={deps:b,callback:c}},d=c=b=function(a){function c(b){if("."!==b.charAt(0))return b;for(var c=b.split("/"),d=a.split("/").slice(0,-1),e=0,f=c.length;f>e;e++){var g=c[e];if(".."===g)d.pop();else{if("."===g)continue;d.push(g)}}return d.join("/")}if(d._eak_seen=e,f[a])return f[a];if(f[a]={},!e[a])throw new Error("Could not find module "+a);for(var g,h=e[a],i=h.deps,j=h.callback,k=[],l=0,m=i.length;m>l;l++)k.push("exports"===i[l]?g={}:b(c(i[l])));var n=j.apply(this,k);return f[a]=g||n}}(),a("promise/all",["./utils","exports"],function(a,b){"use strict";function c(a){var b=this;if(!d(a))throw new TypeError("You must pass an array to all.");return new b(function(b,c){function d(a){return function(b){f(a,b)}}function f(a,c){h[a]=c,0===--i&&b(h)}var g,h=[],i=a.length;0===i&&b([]);for(var j=0;j<a.length;j++)g=a[j],g&&e(g.then)?g.then(d(j),c):f(j,g)})}var d=a.isArray,e=a.isFunction;b.all=c}),a("promise/asap",["exports"],function(a){"use strict";function b(){return function(){process.nextTick(e)}}function c(){var a=0,b=new i(e),c=document.createTextNode("");return b.observe(c,{characterData:!0}),function(){c.data=a=++a%2}}function d(){return function(){j.setTimeout(e,1)}}function e(){for(var a=0;a<k.length;a++){var b=k[a],c=b[0],d=b[1];c(d)}k=[]}function f(a,b){var c=k.push([a,b]);1===c&&g()}var g,h="undefined"!=typeof window?window:{},i=h.MutationObserver||h.WebKitMutationObserver,j="undefined"!=typeof global?global:void 0===this?window:this,k=[];g="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?b():i?c():d(),a.asap=f}),a("promise/config",["exports"],function(a){"use strict";function b(a,b){return 2!==arguments.length?c[a]:void(c[a]=b)}var c={instrument:!1};a.config=c,a.configure=b}),a("promise/polyfill",["./promise","./utils","exports"],function(a,b,c){"use strict";function d(){var a;a="undefined"!=typeof global?global:"undefined"!=typeof window&&window.document?window:self;var b="Promise"in a&&"resolve"in a.Promise&&"reject"in a.Promise&&"all"in a.Promise&&"race"in a.Promise&&function(){var b;return new a.Promise(function(a){b=a}),f(b)}();b||(a.Promise=e)}var e=a.Promise,f=b.isFunction;c.polyfill=d}),a("promise/promise",["./config","./utils","./all","./race","./resolve","./reject","./asap","exports"],function(a,b,c,d,e,f,g,h){"use strict";function i(a){if(!v(a))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof i))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._subscribers=[],j(a,this)}function j(a,b){function c(a){o(b,a)}function d(a){q(b,a)}try{a(c,d)}catch(e){d(e)}}function k(a,b,c,d){var e,f,g,h,i=v(c);if(i)try{e=c(d),g=!0}catch(j){h=!0,f=j}else e=d,g=!0;n(b,e)||(i&&g?o(b,e):h?q(b,f):a===D?o(b,e):a===E&&q(b,e))}function l(a,b,c,d){var e=a._subscribers,f=e.length;e[f]=b,e[f+D]=c,e[f+E]=d}function m(a,b){for(var c,d,e=a._subscribers,f=a._detail,g=0;g<e.length;g+=3)c=e[g],d=e[g+b],k(b,c,d,f);a._subscribers=null}function n(a,b){var c,d=null;try{if(a===b)throw new TypeError("A promises callback cannot return that same promise.");if(u(b)&&(d=b.then,v(d)))return d.call(b,function(d){return c?!0:(c=!0,void(b!==d?o(a,d):p(a,d)))},function(b){return c?!0:(c=!0,void q(a,b))}),!0}catch(e){return c?!0:(q(a,e),!0)}return!1}function o(a,b){a===b?p(a,b):n(a,b)||p(a,b)}function p(a,b){a._state===B&&(a._state=C,a._detail=b,t.async(r,a))}function q(a,b){a._state===B&&(a._state=C,a._detail=b,t.async(s,a))}function r(a){m(a,a._state=D)}function s(a){m(a,a._state=E)}var t=a.config,u=(a.configure,b.objectOrFunction),v=b.isFunction,w=(b.now,c.all),x=d.race,y=e.resolve,z=f.reject,A=g.asap;t.async=A;var B=void 0,C=0,D=1,E=2;i.prototype={constructor:i,_state:void 0,_detail:void 0,_subscribers:void 0,then:function(a,b){var c=this,d=new this.constructor(function(){});if(this._state){var e=arguments;t.async(function(){k(c._state,d,e[c._state-1],c._detail)})}else l(this,d,a,b);return d},"catch":function(a){return this.then(null,a)}},i.all=w,i.race=x,i.resolve=y,i.reject=z,h.Promise=i}),a("promise/race",["./utils","exports"],function(a,b){"use strict";function c(a){var b=this;if(!d(a))throw new TypeError("You must pass an array to race.");return new b(function(b,c){for(var d,e=0;e<a.length;e++)d=a[e],d&&"function"==typeof d.then?d.then(b,c):b(d)})}var d=a.isArray;b.race=c}),a("promise/reject",["exports"],function(a){"use strict";function b(a){var b=this;return new b(function(b,c){c(a)})}a.reject=b}),a("promise/resolve",["exports"],function(a){"use strict";function b(a){if(a&&"object"==typeof a&&a.constructor===this)return a;var b=this;return new b(function(b){b(a)})}a.resolve=b}),a("promise/utils",["exports"],function(a){"use strict";function b(a){return c(a)||"object"==typeof a&&null!==a}function c(a){return"function"==typeof a}function d(a){return"[object Array]"===Object.prototype.toString.call(a)}var e=Date.now||function(){return(new Date).getTime()};a.objectOrFunction=b,a.isFunction=c,a.isArray=d,a.now=e}),b("promise/polyfill").polyfill()}(),function(){"use strict";function a(a,b){var c="";if(a&&(c=a.toString()),a&&("[object ArrayBuffer]"===a.toString()||a.buffer&&"[object ArrayBuffer]"===a.buffer.toString())){var e,g=f;a instanceof ArrayBuffer?(e=a,g+=h):(e=a.buffer,"[object Int8Array]"===c?g+=j:"[object Uint8Array]"===c?g+=k:"[object Uint8ClampedArray]"===c?g+=l:"[object Int16Array]"===c?g+=m:"[object Uint16Array]"===c?g+=o:"[object Int32Array]"===c?g+=n:"[object Uint32Array]"===c?g+=p:"[object Float32Array]"===c?g+=q:"[object Float64Array]"===c?g+=r:b(new Error("Failed to get type for BinaryArray"))),b(g+d(e))}else if("[object Blob]"===c){var s=new FileReader;s.onload=function(){var a=d(this.result);b(f+i+a)},s.readAsArrayBuffer(a)}else try{b(JSON.stringify(a))}catch(t){window.console.error("Couldn't convert value into a JSON string: ",a),b(null,t)}}function b(a){if(a.substring(0,g)!==f)return JSON.parse(a);var b=a.substring(s),d=a.substring(g,s),e=c(b);switch(d){case h:return e;case i:return new Blob([e]);case j:return new Int8Array(e);case k:return new Uint8Array(e);case l:return new Uint8ClampedArray(e);case m:return new Int16Array(e);case o:return new Uint16Array(e);case n:return new Int32Array(e);case p:return new Uint32Array(e);case q:return new Float32Array(e);case r:return new Float64Array(e);default:throw new Error("Unkown type: "+d)}}function c(a){var b,c,d,f,g,h=.75*a.length,i=a.length,j=0;"="===a[a.length-1]&&(h--,"="===a[a.length-2]&&h--);var k=new ArrayBuffer(h),l=new Uint8Array(k);for(b=0;i>b;b+=4)c=e.indexOf(a[b]),d=e.indexOf(a[b+1]),f=e.indexOf(a[b+2]),g=e.indexOf(a[b+3]),l[j++]=c<<2|d>>4,l[j++]=(15&d)<<4|f>>2,l[j++]=(3&f)<<6|63&g;return k}function d(a){var b,c=new Uint8Array(a),d="";for(b=0;b<c.length;b+=3)d+=e[c[b]>>2],d+=e[(3&c[b])<<4|c[b+1]>>4],d+=e[(15&c[b+1])<<2|c[b+2]>>6],d+=e[63&c[b+2]];return c.length%3===2?d=d.substring(0,d.length-1)+"=":c.length%3===1&&(d=d.substring(0,d.length-2)+"=="),d}var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f="__lfsc__:",g=f.length,h="arbf",i="blob",j="si08",k="ui08",l="uic8",m="si16",n="si32",o="ur16",p="ui32",q="fl32",r="fl64",s=g+h.length,t={serialize:a,deserialize:b,stringToBuffer:c,bufferToString:d};"function"==typeof define&&define.amd?define("localforageSerializer",function(){return t}):"undefined"!=typeof module&&module.exports?module.exports=t:this.localforageSerializer=t}.call(window),function(){"use strict";function a(a){var b=this,c={db:null};if(a)for(var d in a)c[d]=a[d];return new m(function(a,d){var e=n.open(c.name,c.version);e.onerror=function(){d(e.error)},e.onupgradeneeded=function(){e.result.createObjectStore(c.storeName)},e.onsuccess=function(){c.db=e.result,b._dbInfo=c,a()}})}function b(a,b){var c=this;"string"!=typeof a&&(window.console.warn(a+" used as a key, but it is not a string."),a=String(a));var d=new m(function(b,d){c.ready().then(function(){var e=c._dbInfo,f=e.db.transaction(e.storeName,"readonly").objectStore(e.storeName),g=f.get(a);g.onsuccess=function(){var a=g.result;void 0===a&&(a=null),b(a)},g.onerror=function(){d(g.error)}})["catch"](d)});return k(d,b),d}function c(a,b){var c=this,d=new m(function(b,d){c.ready().then(function(){var e=c._dbInfo,f=e.db.transaction(e.storeName,"readonly").objectStore(e.storeName),g=f.openCursor(),h=1;g.onsuccess=function(){var c=g.result;if(c){var d=a(c.value,c.key,h++);void 0!==d?b(d):c["continue"]()}else b()},g.onerror=function(){d(g.error)}})["catch"](d)});return k(d,b),d}function d(a,b,c){var d=this;"string"!=typeof a&&(window.console.warn(a+" used as a key, but it is not a string."),a=String(a));var e=new m(function(c,e){d.ready().then(function(){var f=d._dbInfo,g=f.db.transaction(f.storeName,"readwrite"),h=g.objectStore(f.storeName);null===b&&(b=void 0);var i=h.put(b,a);g.oncomplete=function(){void 0===b&&(b=null),c(b)},g.onabort=g.onerror=function(){e(i.error)}})["catch"](e)});return k(e,c),e}function e(a,b){var c=this;"string"!=typeof a&&(window.console.warn(a+" used as a key, but it is not a string."),a=String(a));var d=new m(function(b,d){c.ready().then(function(){var e=c._dbInfo,f=e.db.transaction(e.storeName,"readwrite"),g=f.objectStore(e.storeName),h=g["delete"](a);f.oncomplete=function(){b()},f.onerror=function(){d(h.error)},f.onabort=function(a){var b=a.target.error;"QuotaExceededError"===b&&d(b)}})["catch"](d)});return k(d,b),d}function f(a){var b=this,c=new m(function(a,c){b.ready().then(function(){var d=b._dbInfo,e=d.db.transaction(d.storeName,"readwrite"),f=e.objectStore(d.storeName),g=f.clear();e.oncomplete=function(){a()},e.onabort=e.onerror=function(){c(g.error)}})["catch"](c)});return k(c,a),c}function g(a){var b=this,c=new m(function(a,c){b.ready().then(function(){var d=b._dbInfo,e=d.db.transaction(d.storeName,"readonly").objectStore(d.storeName),f=e.count();f.onsuccess=function(){a(f.result)},f.onerror=function(){c(f.error)}})["catch"](c)});return j(c,a),c}function h(a,b){var c=this,d=new m(function(b,d){return 0>a?void b(null):void c.ready().then(function(){var e=c._dbInfo,f=e.db.transaction(e.storeName,"readonly").objectStore(e.storeName),g=!1,h=f.openCursor();h.onsuccess=function(){var c=h.result;return c?void(0===a?b(c.key):g?b(c.key):(g=!0,c.advance(a))):void b(null)},h.onerror=function(){d(h.error)}})["catch"](d)});return j(d,b),d}function i(a){var b=this,c=new m(function(a,c){b.ready().then(function(){var d=b._dbInfo,e=d.db.transaction(d.storeName,"readonly").objectStore(d.storeName),f=e.openCursor(),g=[];f.onsuccess=function(){var b=f.result;return b?(g.push(b.key),void b["continue"]()):void a(g)},f.onerror=function(){c(f.error)}})["catch"](c)});return j(c,a),c}function j(a,b){b&&a.then(function(a){b(null,a)},function(a){b(a)})}function k(a,b){b&&a.then(function(a){l(b,a)},function(a){b(a)})}function l(a,b){return a?setTimeout(function(){return a(null,b)},0):void 0}var m="undefined"!=typeof module&&module.exports?require("promise"):this.Promise,n=n||this.indexedDB||this.webkitIndexedDB||this.mozIndexedDB||this.OIndexedDB||this.msIndexedDB;if(n){var o={_driver:"asyncStorage",_initStorage:a,iterate:c,getItem:b,setItem:d,removeItem:e,clear:f,length:g,key:h,keys:i};"function"==typeof define&&define.amd?define("asyncStorage",function(){return o}):"undefined"!=typeof module&&module.exports?module.exports=o:this.asyncStorage=o}}.call(window),function(){"use strict";function a(a){var b=this,c={};if(a)for(var d in a)c[d]=a[d];c.keyPrefix=c.name+"/",b._dbInfo=c;var e=new k(function(a){q===p.DEFINE?require(["localforageSerializer"],a):a(q===p.EXPORT?require("./../utils/serializer"):l.localforageSerializer)});return e.then(function(a){return m=a,k.resolve()})}function b(a){var b=this,c=b.ready().then(function(){for(var a=b._dbInfo.keyPrefix,c=n.length-1;c>=0;c--){var d=n.key(c);0===d.indexOf(a)&&n.removeItem(d)}});return j(c,a),c}function c(a,b){var c=this;"string"!=typeof a&&(window.console.warn(a+" used as a key, but it is not a string."),a=String(a));var d=c.ready().then(function(){var b=c._dbInfo,d=n.getItem(b.keyPrefix+a);return d&&(d=m.deserialize(d)),d});return j(d,b),d}function d(a,b){var c=this,d=c.ready().then(function(){for(var b=c._dbInfo.keyPrefix,d=b.length,e=n.length,f=0;e>f;f++){var g=n.key(f),h=n.getItem(g);if(h&&(h=m.deserialize(h)),h=a(h,g.substring(d),f+1),void 0!==h)return h}});return j(d,b),d}function e(a,b){var c=this,d=c.ready().then(function(){var b,d=c._dbInfo;try{b=n.key(a)}catch(e){b=null}return b&&(b=b.substring(d.keyPrefix.length)),b});return j(d,b),d}function f(a){var b=this,c=b.ready().then(function(){for(var a=b._dbInfo,c=n.length,d=[],e=0;c>e;e++)0===n.key(e).indexOf(a.keyPrefix)&&d.push(n.key(e).substring(a.keyPrefix.length));return d});return j(c,a),c}function g(a){var b=this,c=b.keys().then(function(a){return a.length});return j(c,a),c}function h(a,b){var c=this;"string"!=typeof a&&(window.console.warn(a+" used as a key, but it is not a string."),a=String(a));var d=c.ready().then(function(){var b=c._dbInfo;n.removeItem(b.keyPrefix+a)});return j(d,b),d}function i(a,b,c){var d=this;"string"!=typeof a&&(window.console.warn(a+" used as a key, but it is not a string."),a=String(a));var e=d.ready().then(function(){void 0===b&&(b=null);var c=b;return new k(function(e,f){m.serialize(b,function(b,g){if(g)f(g);else try{var h=d._dbInfo;n.setItem(h.keyPrefix+a,b),e(c)}catch(i){("QuotaExceededError"===i.name||"NS_ERROR_DOM_QUOTA_REACHED"===i.name)&&f(i),f(i)}})})});return j(e,c),e}function j(a,b){b&&a.then(function(a){b(null,a)},function(a){b(a)})}var k="undefined"!=typeof module&&module.exports?require("promise"):this.Promise,l=this,m=null,n=null;try{if(!(this.localStorage&&"setItem"in this.localStorage))return;n=this.localStorage}catch(o){return}var p={DEFINE:1,EXPORT:2,WINDOW:3},q=p.WINDOW;"function"==typeof define&&define.amd?q=p.DEFINE:"undefined"!=typeof module&&module.exports&&(q=p.EXPORT);var r={_driver:"localStorageWrapper",_initStorage:a,iterate:d,getItem:c,setItem:i,removeItem:h,clear:b,length:g,key:e,keys:f};q===p.DEFINE?define("localStorageWrapper",function(){return r}):q===p.EXPORT?module.exports=r:this.localStorageWrapper=r}.call(window),function(){"use strict";function a(a){var b=this,c={db:null};if(a)for(var d in a)c[d]="string"!=typeof a[d]?a[d].toString():a[d];var e=new k(function(a){p===o.DEFINE?require(["localforageSerializer"],a):a(p===o.EXPORT?require("./../utils/serializer"):l.localforageSerializer)}),f=new k(function(d,e){try{c.db=n(c.name,String(c.version),c.description,c.size)}catch(f){return b.setDriver(b.LOCALSTORAGE).then(function(){return b._initStorage(a)}).then(d)["catch"](e)}c.db.transaction(function(a){a.executeSql("CREATE TABLE IF NOT EXISTS "+c.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){b._dbInfo=c,d()},function(a,b){e(b)})})});return e.then(function(a){return m=a,f})}function b(a,b){var c=this;"string"!=typeof a&&(window.console.warn(a+" used as a key, but it is not a string."),a=String(a));var d=new k(function(b,d){c.ready().then(function(){var e=c._dbInfo;e.db.transaction(function(c){c.executeSql("SELECT * FROM "+e.storeName+" WHERE key = ? LIMIT 1",[a],function(a,c){var d=c.rows.length?c.rows.item(0).value:null;d&&(d=m.deserialize(d)),b(d)},function(a,b){d(b)})})})["catch"](d)});return j(d,b),d}function c(a,b){var c=this,d=new k(function(b,d){c.ready().then(function(){var e=c._dbInfo;e.db.transaction(function(c){c.executeSql("SELECT * FROM "+e.storeName,[],function(c,d){for(var e=d.rows,f=e.length,g=0;f>g;g++){var h=e.item(g),i=h.value;if(i&&(i=m.deserialize(i)),i=a(i,h.key,g+1),void 0!==i)return void b(i)}b()},function(a,b){d(b)})})})["catch"](d)});return j(d,b),d}function d(a,b,c){var d=this;"string"!=typeof a&&(window.console.warn(a+" used as a key, but it is not a string."),a=String(a));var e=new k(function(c,e){d.ready().then(function(){void 0===b&&(b=null);var f=b;m.serialize(b,function(b,g){if(g)e(g);else{var h=d._dbInfo;h.db.transaction(function(d){d.executeSql("INSERT OR REPLACE INTO "+h.storeName+" (key, value) VALUES (?, ?)",[a,b],function(){c(f)},function(a,b){e(b)})},function(a){a.code===a.QUOTA_ERR&&e(a)})}})})["catch"](e)});return j(e,c),e}function e(a,b){var c=this;"string"!=typeof a&&(window.console.warn(a+" used as a key, but it is not a string."),a=String(a));var d=new k(function(b,d){c.ready().then(function(){var e=c._dbInfo;e.db.transaction(function(c){c.executeSql("DELETE FROM "+e.storeName+" WHERE key = ?",[a],function(){b()},function(a,b){d(b)})})})["catch"](d)});return j(d,b),d}function f(a){var b=this,c=new k(function(a,c){b.ready().then(function(){var d=b._dbInfo;d.db.transaction(function(b){b.executeSql("DELETE FROM "+d.storeName,[],function(){a()},function(a,b){c(b)})})})["catch"](c)});return j(c,a),c}function g(a){var b=this,c=new k(function(a,c){b.ready().then(function(){var d=b._dbInfo;d.db.transaction(function(b){b.executeSql("SELECT COUNT(key) as c FROM "+d.storeName,[],function(b,c){var d=c.rows.item(0).c;a(d)},function(a,b){c(b)})})})["catch"](c)});return j(c,a),c}function h(a,b){var c=this,d=new k(function(b,d){c.ready().then(function(){var e=c._dbInfo;e.db.transaction(function(c){c.executeSql("SELECT key FROM "+e.storeName+" WHERE id = ? LIMIT 1",[a+1],function(a,c){var d=c.rows.length?c.rows.item(0).key:null;b(d)},function(a,b){d(b)})})})["catch"](d)});return j(d,b),d}function i(a){var b=this,c=new k(function(a,c){b.ready().then(function(){var d=b._dbInfo;d.db.transaction(function(b){b.executeSql("SELECT key FROM "+d.storeName,[],function(b,c){for(var d=[],e=0;e<c.rows.length;e++)d.push(c.rows.item(e).key);a(d)},function(a,b){c(b)})})})["catch"](c)});return j(c,a),c}function j(a,b){b&&a.then(function(a){b(null,a)},function(a){b(a)})}var k="undefined"!=typeof module&&module.exports?require("promise"):this.Promise,l=this,m=null,n=this.openDatabase;if(n){var o={DEFINE:1,EXPORT:2,WINDOW:3},p=o.WINDOW;"function"==typeof define&&define.amd?p=o.DEFINE:"undefined"!=typeof module&&module.exports&&(p=o.EXPORT);var q={_driver:"webSQLStorage",_initStorage:a,iterate:c,getItem:b,setItem:d,removeItem:e,clear:f,length:g,key:h,keys:i};p===o.DEFINE?define("webSQLStorage",function(){return q}):p===o.EXPORT?module.exports=q:this.webSQLStorage=q}}.call(window),function(){"use strict";function a(a,b){a[b]=function(){var c=arguments;return a.ready().then(function(){return a[b].apply(a,c)})}}function b(){for(var a=1;a<arguments.length;a++){var b=arguments[a];if(b)for(var c in b)b.hasOwnProperty(c)&&(arguments[0][c]=n(b[c])?b[c].slice():b[c])}return arguments[0]}function c(a){for(var b in g)if(g.hasOwnProperty(b)&&g[b]===a)return!0;return!1}function d(c){this._config=b({},k,c),this._driverSet=null,this._ready=!1,this._dbInfo=null;for(var d=0;d<i.length;d++)a(this,i[d]);this.setDriver(this._config.driver)}var e="undefined"!=typeof module&&module.exports?require("promise"):this.Promise,f={},g={INDEXEDDB:"asyncStorage",LOCALSTORAGE:"localStorageWrapper",WEBSQL:"webSQLStorage"},h=[g.INDEXEDDB,g.WEBSQL,g.LOCALSTORAGE],i=["clear","getItem","iterate","key","keys","length","removeItem","setItem"],j={DEFINE:1,EXPORT:2,WINDOW:3},k={description:"",driver:h.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},l=j.WINDOW;"function"==typeof define&&define.amd?l=j.DEFINE:"undefined"!=typeof module&&module.exports&&(l=j.EXPORT);var m=function(a){var b=b||a.indexedDB||a.webkitIndexedDB||a.mozIndexedDB||a.OIndexedDB||a.msIndexedDB,c={};return c[g.WEBSQL]=!!a.openDatabase,c[g.INDEXEDDB]=!!function(){if("undefined"!=typeof a.openDatabase&&a.navigator&&a.navigator.userAgent&&/Safari/.test(a.navigator.userAgent)&&!/Chrome/.test(a.navigator.userAgent))return!1;try{return b&&"function"==typeof b.open&&"undefined"!=typeof a.IDBKeyRange}catch(c){return!1}}(),c[g.LOCALSTORAGE]=!!function(){try{return a.localStorage&&"setItem"in a.localStorage&&a.localStorage.setItem}catch(b){return!1}}(),c}(this),n=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},o=this;d.prototype.INDEXEDDB=g.INDEXEDDB,d.prototype.LOCALSTORAGE=g.LOCALSTORAGE,d.prototype.WEBSQL=g.WEBSQL,d.prototype.config=function(a){if("object"==typeof a){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var b in a)"storeName"===b&&(a[b]=a[b].replace(/\W/g,"_")),this._config[b]=a[b];return"driver"in a&&a.driver&&this.setDriver(this._config.driver),!0}return"string"==typeof a?this._config[a]:this._config},d.prototype.defineDriver=function(a,b,d){var g=new e(function(b,d){try{var g=a._driver,h=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver"),j=new Error("Custom driver name already in use: "+a._driver);if(!a._driver)return void d(h);if(c(a._driver))return void d(j);for(var k=i.concat("_initStorage"),l=0;l<k.length;l++){var n=k[l];if(!n||!a[n]||"function"!=typeof a[n])return void d(h)}var o=e.resolve(!0);"_support"in a&&(o=a._support&&"function"==typeof a._support?a._support():e.resolve(!!a._support)),o.then(function(c){m[g]=c,f[g]=a,b()},d)}catch(p){d(p)}});return g.then(b,d),g},d.prototype.driver=function(){return this._driver||null},d.prototype.ready=function(a){var b=this,c=new e(function(a,c){b._driverSet.then(function(){null===b._ready&&(b._ready=b._initStorage(b._config)),b._ready.then(a,c)})["catch"](c)});return c.then(a,a),c},d.prototype.setDriver=function(a,b,d){function g(){h._config.driver=h.driver()}var h=this;return"string"==typeof a&&(a=[a]),this._driverSet=new e(function(b,d){var g=h._getFirstSupportedDriver(a),i=new Error("No available storage method found.");if(!g)return h._driverSet=e.reject(i),void d(i);if(h._dbInfo=null,h._ready=null,c(g)){if(l===j.DEFINE)return void require([g],function(a){h._extend(a),b()});if(l===j.EXPORT){var k;switch(g){case h.INDEXEDDB:k=require("./drivers/indexeddb");break;case h.LOCALSTORAGE:k=require("./drivers/localstorage");break;case h.WEBSQL:k=require("./drivers/websql")}h._extend(k)}else h._extend(o[g])}else{if(!f[g])return h._driverSet=e.reject(i),void d(i);h._extend(f[g])}b()}),this._driverSet.then(g,g),this._driverSet.then(b,d),this._driverSet},d.prototype.supports=function(a){return!!m[a]},d.prototype._extend=function(a){b(this,a)},d.prototype._getFirstSupportedDriver=function(a){if(a&&n(a))for(var b=0;b<a.length;b++){var c=a[b];if(this.supports(c))return c}return null},d.prototype.createInstance=function(a){return new d(a)};var p=new d;l===j.DEFINE?define("localforage",function(){return p}):l===j.EXPORT?module.exports=p:this.localforage=p;localforage.version=1.2;}.call(window);
*/

