<div id="calcForm">
<form id="formc" name="formc" action="" method="post">

<!--<h2>Calories Per Day Calculator</h2>-->

<div>
	<label>Gênero</label>
    <span class="selectArrow"><select id="pA1B" tabindex="1" onchange="recalc_onclick(&#39;pA1B&#39;)" size="1" name="pA1B">
		<option value="Male" selected="selected">Masculino</option>
		<option value="Female">Feminino</option>
	</select></span>
</div>

<div>
	<label>Altura</label>
	<input type="hidden" class="ee101" id="pA2B" onblur="this.value=eedisplayFloat(eeparseFloat(this.value));recalc_onclick(&#39;pA2B&#39;)" tabindex="2" size="8" value="70" name="pA2B" />
	<input type="number" tabindex="2" id="feet" name="feet" value="5" size="2" onchange="document.getElementById('pA2B').value = (Number(document.getElementById('feet').value) * 12) + (Number(document.getElementById('inches').value));"><input tabindex="2" type="number" id="inches" name="inches" value="175" size="2" onchange="document.getElementById('pA2B').value = (Number(document.getElementById('feet').value) * 12) + (Number(document.getElementById('inches').value));">
    <span class="selectArrow"><select id="pA2C" tabindex="3" onchange="recalc_onclick(&#39;pA2C&#39;)" size="1" name="pA2C">
		<option value="centimetres" selected="selected">centímetros</option>
		<option value="inches">pés/polegadas</option>
	</select></span>
	<input class="ee101" id="pA2D" type="hidden" readonly size="4" name="pA2D" />
</div>

<div>
	<label>Peso</label>
	<input type="number" id="pA3B" onblur="this.value=eedisplayFloat(eeparseFloat(this.value));recalc_onclick(&#39;pA3B&#39;)" tabindex="4" size="8" value="80" name="pA3B" />
    <span class="selectArrow"><select id="pA3C" tabindex="5" onchange="recalc_onclick(&#39;pA3C&#39;)" size="1" name="pA3C">
		<option value="kilograms" selected="selected">kilogramas</option>
		<option value="pounds">libras</option>
	</select></span>
    <input class="ee101" id="pA3D" type="hidden" readonly size="4" value="0" name="pA3D" />
</div>

<div>
	<label>Idade</label>
	<span class="selectArrow"><select class="ee100" id="pA4B" tabindex="6" onchange="recalc_onclick(&#39;pA4B&#39;)" size="1" name="pA4B">
		<option value="10">10</option>
		<option value="11">11</option>
		<option value="12">12</option>
		<option value="13">13</option>
		<option value="14">14</option>
		<option value="15">15</option>
		<option value="16">16</option>
		<option value="17">17</option>
		<option value="18">18</option>
		<option value="19">19</option>
		<option value="20" selected="selected">20</option>
		<option value="21">21</option>
		<option value="22">22</option>
		<option value="23">23</option>
		<option value="24">24</option>
		<option value="25">25</option>
		<option value="26">26</option>
		<option value="27">27</option>
		<option value="28">28</option>
		<option value="29">29</option>
		<option value="30">30</option>
		<option value="31">31</option>
		<option value="32">32</option>
		<option value="33">33</option>
		<option value="34">34</option>
		<option value="35">35</option>
		<option value="36">36</option>
		<option value="37">37</option>
		<option value="38">38</option>
		<option value="39">39</option>
		<option value="40">40</option>
		<option value="41">41</option>
		<option value="42">42</option>
		<option value="43">43</option>
		<option value="44">44</option>
		<option value="45">45</option>
		<option value="46">46</option>
		<option value="47">47</option>
		<option value="48">48</option>
		<option value="49">49</option>
		<option value="50">50</option>
		<option value="51">51</option>
		<option value="52">52</option>
		<option value="53">53</option>
		<option value="54">54</option>
		<option value="55">55</option>
		<option value="56">56</option>
		<option value="57">57</option>
		<option value="58">58</option>
		<option value="59">59</option>
		<option value="60">60</option>
		<option value="61">61</option>
		<option value="62">62</option>
		<option value="63">63</option>
		<option value="64">64</option>
		<option value="65">65</option>
		<option value="66">66</option>
		<option value="67">67</option>
		<option value="68">68</option>
		<option value="69">69</option>
		<option value="70">70</option>
		<option value="71">71</option>
		<option value="72">72</option>
		<option value="73">73</option>
		<option value="74">74</option>
		<option value="75">75</option>
		<option value="76">76</option>
		<option value="77">77</option>
		<option value="78">78</option>
		<option value="79">79</option>
		<option value="80">80</option>
		<option value="81">81</option>
		<option value="82">82</option>
		<option value="83">83</option>
		<option value="84">84</option>
		<option value="85">85</option>
		<option value="86">86</option>
		<option value="87">87</option>
		<option value="88">88</option>
		<option value="89">89</option>
		<option value="90">90</option>
		<option value="91">91</option>
		<option value="92">92</option>
		<option value="93">93</option>
		<option value="94">94</option>
		<option value="95">95</option>
		<option value="96">96</option>
		<option value="97">97</option>
		<option value="98">98</option>
		<option value="99">99</option>
		<option value="100">100</option>
	</select></span>
	anos
</div>

<div>
	<label>Your activity</label>
	<span class="selectArrow"><select id="pA5B" tabindex="7" onchange="recalc_onclick(&#39;pA5B&#39;)" size="1" name="pA5B">
		<option selected="selected" value="Sedentary (little or no exercise, desk job)">Sedentário: Quase sempre sentado (designer, escritor)</option>
		<option value="Lightly active (light exercise/sports 1-3 days/wk)">Pouco Ativo: Ocasionalmente sentado (professor, vendedor)</option>
		<option value="Moderately active (moderate exercise/sports 3-5 days/wk)">Ativo: Caminhando quase sempre (carteiro, garçonete)</option>
		<option value="Very active (hard exercise/sports 6-7 days/wk)">Muito Ativo: Trabalho fisicamente extenuante (pedreiro)</option>
<!--                                                                                doing heavy physical activity
		<option selected="selected" value="Sedentary (little or no exercise, desk job)">Sedentary (little or no exercise, desk job)</option>
		<option value="Lightly active (light exercise/sports 1-3 days/wk)">Lightly active (light exercise 1-3 days/wk)</option>
		<option value="Moderately active (moderate exercise/sports 3-5 days/wk)">Moderately active (moderate exercise 3-5 days/wk)</option>
		<option value="Very active (hard exercise/sports 6-7 days/wk)">Very active (hard exercise 6-7 days/wk)</option>
		<option value="Extremely active (hard daily exercise/sports &amp; physical job)">Extremely active (hard daily exercise &amp; physical job)</option>
-->
	</select></span>
</div>

<div class="invisible">
	<input type="checkbox" checked="checked" value="ON" name="automatic_recalc" />
	<label>Automatic recalculation</label>
</div>

<div class="invisible">
	<input onclick="recalc_onclick(&#39;&#39;)" type="button" value="Recalculate" name="do_recalc" id="do_recalc" />
</div>


<h2>Resultados<span> (toque para selecionar)</span></h2>


<div class="invisible">
	<label>BMR</label>
	<input class="ee101" id="pA6B" readonly size="8" value="0" name="pA6B" />
</div>

<div class="invisible">
	<h2>Nutrition requirements</h2>
</div>

<div>
	<label id="mantain"><span>A.</span> Manter peso atual:</label>
	<label class="invisible">Calorias</label>
	<input class="ee101" id="pA7B" readonly size="7" value="0" name="pA7B" />
	<span class="bold">kcals / dia</span>
</div>


<div class="invisible">
	Carbohydrates (55%)
    <input class="ee101" id="pA8B" readonly size="7" value="0" name="pA8B" />
	cal =
    <input id="pA8D" readonly size="6" value="0" name="pA8D" />
    gm
</div>

<div class="invisible">
	Proteins (15%)
	<input class="ee101" id="pA9B" readonly size="7" value="0" name="pA9B" />
	cal =
	<input id="pA9D2" readonly size="6" value="0" name="pA9D" />
	gm
</div>

<div class="invisible">
	Fats (30%)
	<input class="ee101" id="pA10B" readonly size="7" value="0" name="pA10B" />
	cal =
	<input class="ee101" id="pA10D2" readonly size="6" value="0" name="pA10D" />
	gm
</div>


<div>
	<label><span>B.</span> Perder peso:</label>
   <span class="selectArrow"> <select class="ee101" id="pA6G" onchange="this.value=eedisplayFloat(eeparseFloat(this.value));recalc_onclick(&#39;pA6G&#39;)" tabindex="8" size="1" value="1" name="pA6G">
		<option value="0.25">0.25</option>
		<option value="0.5">0.5</option>
		<option value="0.75">0.75</option>
		<option value="1" selected="selected">1</option>
		<option value="1.25">1.25</option>
		<option value="1.5">1.5</option>
		<option value="1.75">1.75</option>
		<option value="2">2</option>
		<option value="2.25">2.25</option>
		<option value="2.5">2.5</option>
		<option value="2.75">2.75</option>
		<option value="3">3</option>
		<option value="3.25">3.25</option>
		<option value="3.5">3.5</option>
		<option value="3.75">3.75</option>
		<option value="4">4</option>
		<option value="4.25">4.25</option>
		<option value="4.5">4.5</option>
		<option value="4.75">4.75</option>
		<option value="5">5</option>
	</select></span>
	<input class="ee101" id="pA6J2" type="hidden" readonly size="2" value="0" name="pA6J" />
	<span class="selectArrow"><select id="select" tabindex="9" onchange="recalc_onclick(&#39;pA6H&#39;)" size="1" name="pA6H">
		<option value="kilograms" selected="selected">kilogramas</option>
		<option value="pounds">libras</option>
	</select></span>
	<span> / semana</span>
</div>

<div>
	<label><!--Calories--></label>
    <input class="ee101" id="pA7F" readonly size="7" value="0" name="pA7F" />
	<span class="bold">kcals / dia</span>
</div>


<div class="invisible">
    Carbohydrates (55%)
	<input class="ee101" id="pA8F" readonly size="7" value="0" name="pA8F" />
	cal =
	<input class="ee101" id="pA8H2" readonly size="7" value="0" name="pA8H" />
	gm
</div>

<div class="invisible">     
	Proteins (15%)
	<input class="ee101" id="pA9F" readonly size="7" value="0" name="pA9F" />
	cal =
	<input class="ee101" id="pA9H2" readonly size="7" value="0" name="pA9H" />
	gm
</div>

<div class="invisible">
	Fats (30%)
	<input class="ee101" id="pA10F" readonly size="7" value="0" name="pA10F" />
	cal =
	<input class="ee101" id="pA10H2" readonly size="7" value="0" name="pA10H" />
	gm
</div>


<div>
	<label><span>C.</span> Ganhar peso:</label>
    <span class="selectArrow"><select class="ee101" id="pA6M2" onchange="this.value=eedisplayFloat(eeparseFloat(this.value));recalc_onclick(&#39;pA6M&#39;)" tabindex="10" size="1" value="1" name="pA6M">
		<option value="0.25">0.25</option>
		<option value="0.5">0.5</option>
		<option value="0.75">0.75</option>
		<option value="1" selected="selected">1</option>
		<option value="1.25">1.25</option>
		<option value="1.5">1.5</option>
		<option value="1.75">1.75</option>
		<option value="2">2</option>
		<option value="2.25">2.25</option>
		<option value="2.5">2.5</option>
		<option value="2.75">2.75</option>
		<option value="3">3</option>
		<option value="3.25">3.25</option>
		<option value="3.5">3.5</option>
		<option value="3.75">3.75</option>
		<option value="4">4</option>
		<option value="4.25">4.25</option>
		<option value="4.5">4.5</option>
		<option value="4.75">4.75</option>
		<option value="5">5</option>
	</select></span>
	<input class="ee101" id="pA6O2" type="hidden" readonly size="2" value="0" name="pA6O" />
	<span class="selectArrow"><select id="select2" tabindex="11" onchange="recalc_onclick(&#39;pA6N&#39;)" size="1" name="pA6N">
		<option value="kilograms" selected="selected">kilogramas</option>
		<option value="pounds">libras</option>
	</select></span>
	<span> / semana</span>
</div>

<div>
	<label><!--Calories--></label>
	<input class="ee101" id="pA7L" readonly size="7" value="0" name="pA7L" />
   	<span class="bold">kcals / dia</span>
</div>


<div class="invisible">
	Carbohydrates (55%)
	<input class="ee101" id="pA8L" readonly size="7" value="0" name="pA8L" />
	cal =
	<input class="ee101" id="pA8N2" readonly size="7" value="0" name="pA8N" />
	gm
</div>

<div class="invisible">
	Proteins (15%)
	<input class="ee101" id="pA9L" readonly size="7" value="0" name="pA9L" />
	cal =
	<input class="ee101" id="pA9N2" readonly size="7" value="0" name="pA9N" />
	gm
</div>

<div class="invisible">
	Fats (30%)
	<input class="ee101" id="pA10L" readonly size="7" value="0" name="pA10L" />
	cal =
	<input class="ee101" id="pA10N2" readonly size="7" value="0" name="pA10N" />
	gm
</div>


</form>
</div>


<script type="text/javascript">
///////////////
// TAP VALUE //
///////////////
$("#pA7B,#pA7F,#pA7L").on(tap, function(evt) {
	//RELOAD INFO HTML
	setTimeout(function() {
		//$.get("info_" + LANG("LANGUAGE") + ".html?"+new Date().getTime(), function(data) { $("#pageSlideInfo").html("<div id='sideMenuInfo'>" + data + "</div>"); });
		$.get("info_" + LANG("LANGUAGE") + ".html", function(data) { $("#pageSlideInfo").html("<div id='sideMenuInfo'>" + data + "</div>"); });
	},400);
	var calcResult = Math.round($(this).val());
	//check n'updt
	if(calcResult >= 500 && calcResult <= 9999) {
	//adjust current value
	if(window.localStorage.getItem("config_kcals_type") == "cyclic") {
		if(window.localStorage.getItem("config_kcals_day") == "d") {
			var getKcalsKey  = "config_kcals_day_2";
		} else {
			var getKcalsKey  = "config_kcals_day_1";
			}
		} else {
			var getKcalsKey  = "config_kcals_day_0";
		}

		//update db
		window.localStorage.setItem(getKcalsKey,calcResult);
		document.getElementById('editableDiv').innerHTML = window.localStorage.getItem(getKcalsKey);
		//document.getElementById('editableDiv').innerHTML = calcResult;
		//window.localStorage.setItem("config_kcals_type","simple");
		updateTimer();
	}
});
$("#pA7B,#pA7F,#pA7L").on(touchstart, function(evt) {
	$(this).addClass("white");
});
$("#pA7B,#pA7F,#pA7L").on(touchend + " mouseout", function(evt) {
	$(this).removeClass("white");
});

$("#calcForm").on(touchstart, function(evt) {
	/*
	evt.preventDefault();
	//evt.stopPropagation();
	if(evt.target.id == "") {

//		$("#pA1B,#pA2B,#pA2C,#pA3B,#pA3C,#pA4B,#pA5B,#pA6G,#select,#pA6M2,#select2,#feet,#inches").blur();
		writeCalcValues();
		$("#formc input").blur();
		$("#formc select").blur();
//		$("input,select").blur();

	} else {
		$("#" + evt.target.id).focus();
	}	
*/
	if(evt.target.id == "") {
	if(navigator.userAgent.match(/iPhone|iPad|iPod/i)) {
		evt.preventDefault();
		evt.stopPropagation();
	}
//		$("#pA1B,#pA2B,#pA2C,#pA3B,#pA3C,#pA4B,#pA5B,#pA6G,#select,#pA6M2,#select2,#feet,#inches").blur();

		writeCalcValues();
		$("#formc input").blur();
		$("#formc select").blur();
//		$("input,select").blur();

	} else {
	if(navigator.userAgent.match(/iPhone|iPad|iPod/i) && evt.target.id != "pA7B" && evt.target.id != "pA7F" && evt.target.id != "pA7L") {
//	if(navigator.userAgent.match(/iPhone|iPad|iPod/i)) {
		evt.preventDefault();
		evt.stopPropagation();
		$("#" + evt.target.id).focus();
	}
	}
});
//////////////////////
// ONCHANGE TRIGGER //
//////////////////////
$("#formc").change(function() {
	writeCalcValues();
});
$("#formc").blur(function() {
	writeCalcValues();
});

///////////////////
// WRITE CHANGES //
///////////////////
function writeCalcValues() {
	var preffix = "calcForm";
	//male/female
	window.localStorage.setItem(preffix + "#pA1B",$("#pA1B").val());
	//height
	window.localStorage.setItem(preffix + "#pA2B",$("#pA2B").val());
	//cm/in
	window.localStorage.setItem(preffix + "#pA2C",$("#pA2C").val());
	//weight
	window.localStorage.setItem(preffix + "#pA3B",$("#pA3B").val());
	//kg/lb
	window.localStorage.setItem(preffix + "#pA3C",$("#pA3C").val());
	//age
	window.localStorage.setItem(preffix + "#pA4B",$("#pA4B").val());
	//activity
	window.localStorage.setItem(preffix + "#pA5B",$("#pA5B").val());
	//weight
	window.localStorage.setItem(preffix + "#pA6G",$("#pA6G").val());
	//measure
	window.localStorage.setItem(preffix + "#select",$("#select").val());
	//gain weight
	window.localStorage.setItem(preffix + "#pA6M2",$("#pA6M2").val());
	//measure
	window.localStorage.setItem(preffix + "#select2",$("#select2").val());
	//measure
	window.localStorage.setItem(preffix + "#feet",$("#feet").val());
	window.localStorage.setItem(preffix + "#inches",$("#inches").val());	
}
/////////////////
// LOAD VALUES //
/////////////////
function loadCalcValues() {
	var preffix = "calcForm";
	//check
	if(window.localStorage.getItem(preffix + "#pA1B")) {
		//male/female
		$("#pA1B").val(window.localStorage.getItem(preffix + "#pA1B"));
		//height
		$("#pA2B").val(window.localStorage.getItem(preffix + "#pA2B"));
		//cm/in
		$("#pA2C").val(window.localStorage.getItem(preffix + "#pA2C"));
		//weight
		$("#pA3B").val(window.localStorage.getItem(preffix + "#pA3B"));
		//kg/lb
		$("#pA3C").val(window.localStorage.getItem(preffix + "#pA3C"));
		//age
		$("#pA4B").val(window.localStorage.getItem(preffix + "#pA4B"));
		//activity
		$("#pA5B").val(window.localStorage.getItem(preffix + "#pA5B"));
		//weight
		$("#pA6G").val(window.localStorage.getItem(preffix + "#pA6G"));
		//measure
		$("#select").val(window.localStorage.getItem(preffix + "#select"));
		//gain weight
		$("#pA6M2").val(window.localStorage.getItem(preffix + "#pA6M2"));
		//measure
		$("#select2").val(window.localStorage.getItem(preffix + "#select2"));
		//measure
		$("#feet").val(window.localStorage.getItem(preffix + "#feet"));
		$("#inches").val(window.localStorage.getItem(preffix + "#inches"));	
	}
	//recalc
	$('#do_recalc').trigger('click');
}
//go
loadCalcValues();

////////////////////
// SWAP FEET/INCH //
////////////////////
function feetInchesToMetric() {
	if(document.getElementById("pA2C").value == "centimetres") {
		$("#feet").val(0);
		$("#feet").removeClass("imperial");
		$("#inches").removeClass("imperial");
		$("#feet").addClass("metric");
		$("#inches").addClass("metric");
	} else {
		$("#feet").removeClass("metric");
		$("#inches").removeClass("metric");
		$("#feet").addClass("imperial");
		$("#inches").addClass("imperial");		
	}
}
$("#pA2C").on("change",function(evt) {
	feetInchesToMetric();
});

if(document.getElementById("pA2C").value == "centimetres") {
	$("#feet").val(0);
	$("#feet").removeClass("imperial");
	$("#inches").removeClass("imperial");
	$("#feet").addClass("metric");
	$("#inches").addClass("metric");
} else {
	$("#feet").removeClass("metric");
	$("#inches").removeClass("metric");
	$("#feet").addClass("imperial");
	$("#inches").addClass("imperial");		
}

</script>
<!--<script type="text/javascript" src="js/calculator.js"></script>-->

